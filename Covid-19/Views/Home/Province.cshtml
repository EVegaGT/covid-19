@using Domain.Models
@using Domain.Enums
@{
    ViewData["Title"] = "Home Page";
    List<Province> topProvinces = ViewBag.topProvinces;
    string code = ViewBag.code;
}
<div class="text-center">
    <h1 class="display-4">Welcome to COVID-19</h1>
    <div class="col-12">
        <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
            <div class="btn-group" role="group" aria-label="First group">
                <div class="btn-group me-3">
                    <button class="btn btn-secondary dropdown-toggle rounded-left rounded-right fs-5" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        @code
                    </button>
                    <ul class="dropdown-menu"></ul>
                </div>
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                    <button type="button" class="btn btn-primary rounded-left rounded-right fs-5">Report</button>
                </div>
            </div>
            <div class="input-group">
                <div class="btn-group rounded-pill" role="group" aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked onclick="location.href = ''">
                    <label class="btn btn-outline-primary rounded-left fs-5" for="btnradio1"><a target="_blank" href="@Url.Action("ExportDataProvince", "Home", new { type = ExportType.XML, code = code})">XML</a></label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                    <label class="btn btn-outline-primary fs-5" for="btnradio2"><a target="_blank" href="@Url.Action("ExportDataProvince", "Home", new { type = ExportType.JSON, code = code})">JSON</a></label>

                    <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
                    <label class="btn btn-outline-primary rounded-right fs-5" for="btnradio3"><a target="_blank" href="@Url.Action("ExportDataProvince", "Home", new { type = ExportType.CSV, code = code})">CSV</a></label>
                </div>
            </div>
        </div>
    </div>
    <br />
    <div class="col-12">
        <table class="table table-borderless border">

            @{
                if (topProvinces != null && topProvinces.Count > 0)
                {
                    <thead>
                        <tr>
                            <th scope="col">PROVINCE</th>
                            <th scope="col">CASES</th>
                            <th scope="col">DEATHS</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var province in topProvinces)
                        {
                            <tr>
                                <th>@province.ProvinceName</th>
                                <td>@province.Confirmed.ToString("###,###,####")</td>
                                <td>@province.Deaths.ToString("###,###,####")</td>
                            </tr>
                        }
                    </tbody>
                }
            }

        </table>
    </div>
</div>
